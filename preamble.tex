%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 모든 패키지, 사용자 정의 매크로 호출 
\input{../../structure/package.sty} % 컴파일이 일어나는 main 기준으로 두 단계 올라가서 다시 내려옴
\input{../../structure/page.sty}
\input{../../structure/format.sty}
\input{../../structure/box.sty}
\input{../../structure/tablefigure.sty}
\input{../../structure/seolf.sty}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 페이지 설정
\usepackage[a4paper, % 기본용지 설정
top=25mm, bottom=25mm, left=20mm, right=20mm]{geometry}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 경고 무시
\hbadness=10000 % underfull hbox 경고 무시(수평 방향 여백 경고 badness 10000까지 무시)
\vbadness=10000 % overfull hbox 경고 무시(수직 방향 페이니 나눔 단락 경고 badness 10000까지 무시)
\hfuzz=7pt  % 7pt 이하의 overfull \hbox 경고 무시

% 제목, 서문, 목차 불러오는 함수 만들기
\newcommand{\includeHead}[1]{\input{../includes/#1.tex}}

% 참고문헌
\newcommand{\setupBib}{ % 참고문헌 있는 경우 불러오기
  \usepackage[backend=biber, style=numeric, sorting=none]{biblatex}
  \usepackage{csquotes}
  \addbibresource{../bib/papers.bib}
  \addbibresource{../bib/references.bib}
  \addbibresource{../bib/websites.bib}}
\newcommand{\printBib}{ % sloppy로 참고문헌 출력시 길이가 길다면 강제 줄바꿈
  \begin{sloppypar} \printbibliography \end{sloppypar}}

% 챕터 불러오기
\newcommand{\loadchapter}[1]{\subimport{../chapters/#1/}{chapter.tex}}
% 히든 챕터 불러오기 - 안쓰는 챕터지만 식 참조 위하여 외부참조(aux 파일 한 번 컴파일 해야 함)
\newcommand{\hiddenchapter}[1]{%
  \externaldocument[]{../chapters/#1/chapter}%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 캡션, 링크
\renewcommand{\equationautorefname}{Eq.} % 수식 참조 시 equation이 아닌 Eq. 로 나옴. aliascnt 필요
\renewcommand{\figureautorefname}{Fig.} % figure는 Fig
\renewcommand{\tableautorefname}{Table.} % table은 Table 그대로
\captionsetup[figure]{name=Fig.} % 그림 아래 캡션도 Fig. 으로 나오도록 함. caption 필요
\captionsetup[figure]{width=0.8\linewidth} % 캡션 너비 조절
\captionsetup[table]{width=0.8\linewidth}
\numberwithin{equation}{section} % eq, figure, table이 표시되는 것을 section까지 설정함. 설정하지 않으면 18.1처럼 chapter 별로 정리됨
\numberwithin{figure}{section}
\numberwithin{table}{section}
\setlength{\abovecaptionskip}{3pt}    % 캡션 위 간격
\setlength{\belowcaptionskip}{-12pt}  % 캡션 아래 간격

\makeatletter % 여러 그림의 라벨을 a,b,c 따로 호출할 때 Fig.18.5.2(a)으로 괄호 표시되게 함
\renewcommand*{\p@subfigure}{\thefigure\nobreak} % (a)가 줄바꿈되지 않도록 함
\renewcommand*{\thesubfigure}{(\alph{subfigure})}
\makeatother